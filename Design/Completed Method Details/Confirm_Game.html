<h2>Confirm Game</h2>

<table border="1">
	<tr>
		<td><strong>Class Name</strong></td> <td><strong>ConfirmGameController</strong></td>
	</tr>
	<tr>
		<td>Method Name</td> <td><em>ConfirmGameController</em></td>
	</tr>
	<tr>
		<td>Method State</td> <td><em>Public</em></td>
	</tr>
	<tr>
		<td>Return Type</td> <td><em>ConfirmGameController</em></td>
	</tr>
	<tr>
		<td>Input Arguments</td> <td>none</td>
	</tr>
	<tr>
		<td>Output Arguments</td> <td>none</td>
	</tr>
	<tr>
	<td>Error Messages</td> <td> if this object fails to connect to the Game, Event, EventType or LifeStats table
							<br>***An error occurred in processing your game confirmation/denial request.*** </td>
	</tr>
	<tr>
		<td>External Accesses</td> <td>Game Table, Team table, Event table, EventType table, LifeStats table, Team table, User table, Ranking table</td>
	</tr>
	<tr>
		<td>External Changes</td> <td>may initialize a connection to the Game, Event, EventType, Team, User, LifeStats and Ranking tables</td>
	</tr>
	<tr>
		<td>Other Methods Invoked</td> <td>none</td>
	</tr>
	<tr>
		<td>Description</td> <td>Initializes an instance of class ConfirmGameController.</br>
								 After construction, the object is ready to obtain a Game from its ID, read its Events from the Events table</br>
								 use the EventType table to understand what happened, and Game table to find out the Teams of Users whose entries</br>
								 in the LifeStats and Ranking tables need to be updated.</td>
	</tr>
</table>

</br>

<table border="1">
	<tr>
		<td><strong>Class Name</strong></td> <td><strong>ConfirmGameController</strong></td>
	</tr>
	<tr>
		<td>Method Name</td> <td><em>confirmOrDenyGame</em></td>
	</tr>
	<tr>
		<td>Method State</td> <td><em>Public</em></td>
	</tr>
	<tr>
		<td>Return Type</td> <td><em>None</em></td>
	</tr>
	<tr>
		<td>Input Arguments</td> <td>int gameID, boolean isUserConfirming</td>
	</tr>
	<tr>
		<td>Output Arguments</td> <td>none</td>
	</tr>
	<tr>
	<td>Error Messages</td> <td>If no Game with the gameID exists:</br>
								***Game does not exist.***</br>
								If the Game has already been confirmed or denied:</br>
								***Game has already been confirmed/denied.***</br>
								If the Game has not actually ended yet:</br>
								***Game has not ended***</td>
	</tr>
	<tr>
		<td>External Accesses</td> <td>Game, Event, EventType</td>
	</tr>
	<tr>
		<td>External Changes</td> <td>none</td>
	</tr>
	<tr>
		<td>Other Methods Invoked</td> <td>obtainGame, isConfirmedOrDenied, isEnded, confirmGame, setConfirmedOrDenied</td>
	</tr>
	<tr>
		<td>Description</td> <td>Using the gameID, obtains the Game with the obtainGame Utility function.</br>
								 Checks that the Game exists, hasn't already been confirmed/denied and has ended</br>
								 </br>
								 If the Game is not valid the User is returned to the confirm/deny game page with an error message.</br>
								 Otherwise, if the User is confirming the Game, confirmGame is called to update the players' Lifestats.</br>
								 Successfully confirming/denying a Game results in its isConfirmedOrDenied flag being set to being True.</td>
	</tr>
</table>

</br>

<table border="1">
	<tr>
		<td><strong>Class Name</strong></td> <td><strong>ConfirmGameController</strong></td>
	</tr>
	<tr>
		<td>Method Name</td> <td><em>confirmGame</em></td>
	</tr>
	<tr>
		<td>Method State</td> <td><em>Private</em></td>
	</tr>
	<tr>
		<td>Return Type</td> <td><em>None</em></td>
	</tr>
	<tr>
		<td>Input Arguments</td> <td>Game game</td>
	</tr>
	<tr>
		<td>Output Arguments</td> <td>none</td>
	</tr>
	<tr>
	<td>Error Messages</td> <td>none</td>
	</tr>
	<tr>
		<td>External Accesses</td> <td>Game, Team, User, Event, LifeStats</td>
	</tr>
	<tr>
		<td>External Changes</td> <td>none</td>
	</tr>
	<tr>
		<td>Other Methods Invoked</td> <td>getEvents, getTeam1, getTeam2, getUser1, getUser2, getLifeStats, getUser, linearSearch</br> 
										   updateStatsWithEvent, updateWinsAndLosses, updateRanking</td>
	</tr>
	<tr>
		<td>Description</td> <td>Obtains the Game's Events, Teams, and Users as well as the Users' corresponding LifeStats objects.</br>
								 </br>
								 For each Event (other than the end game Event), obtains the corresponding User and (using the technique of parallel arrays)</br> 
								 performs a linear search to get the LifeStats object that is to be updated, and finally passes the Event and LifeStats</br> 
								 to updateStatsWithEvent.</br>
								 </br>
								 Lastly, using the end game Event, updates the Users' wins & losses and TrueSkill values.</td>
	</tr>
</table>

</br>

<table border="1">
	<tr>
		<td><strong>Class Name</strong></td> <td><strong>ConfirmGameController</strong></td>
	</tr>
	<tr>
		<td>Method Name</td> <td><em>updateStatsWithEvent</em></td>
	</tr>
	<tr>
		<td>Method State</td> <td><em>Private</em></td>
	</tr>
	<tr>
		<td>Return Type</td> <td><em>None</em></td>
	</tr>
	<tr>
		<td>Input Arguments</td> <td>LifeStats statsToUpdate, Event eventThatOccurred</td>
	</tr>
	<tr>
		<td>Output Arguments</td> <td>none</td>
	</tr>
	<tr>
	<td>Error Messages</td> <td>none</td>
	</tr>
	<tr>
		<td>External Accesses</td> <td>LifeStats, Event, EventType</td>
	</tr>
	<tr>
		<td>External Changes</td> <td>The LifeStats object is updated to reflect that the Event occurred.</td>
	</tr>
	<tr>
		<td>Other Methods Invoked</td> <td>getEventType, incBounceShots, incTrickShots, incPartyFouls, incCupsSunk, incRedemptions</td>
	</tr>
	<tr>
		<td>Description</td> <td>Obtains eventThatOccurred's EventType and updates statsToUpdate based on that.</br>
								 </br>
								 <b>Note:</b>This method is meant for processing bounce shots, trick shots, party fouls, cups sunk, redemptions and nothing else!</td>
	</tr>
</table>

</br>

<table border="1">
	<tr>
		<td><strong>Class Name</strong></td> <td><strong>ConfirmGameController</strong></td>
	</tr>
	<tr>
		<td>Method Name</td> <td><em>updateWinsAndLosses</em></td>
	</tr>
	<tr>
		<td>Method State</td> <td><em>Private</em></td>
	</tr>
	<tr>
		<td>Return Type</td> <td><em>None</em></td>
	</tr>
	<tr>
		<td>Input Arguments</td> <td>Event endGameEvent, User[] team1Users, User[] team2Users</td>
	</tr>
	<tr>
		<td>Output Arguments</td> <td>none</td>
	</tr>
	<tr>
	<td>Error Messages</td> <td>none</td>
	</tr>
	<tr>
		<td>External Accesses</td> <td>LifeStats</td>
	</tr>
	<tr>
		<td>External Changes</td> <td>Wins for the winning Users and losses for the losing Users are updated.</td>
	</tr>
	<tr>
		<td>Other Methods Invoked</td> <td>winnersAndLosers, incWins, incLosses</td>
	</tr>
	<tr>
		<td>Description</td> <td>The helper function winnersAndLosers is called to figure out which Team won</br> 
								 and which Team lost. The winning Users have the wins attribute in their LifeStats</br>
								 incremented by 1. The losing Users have the losses attribute in the LifeStats incremented by 1</td>
	</tr>
</table>

</br>

<table border="1">
	<tr>
		<td><strong>Class Name</strong></td> <td><strong>ConfirmGameController</strong></td>
	</tr>
	<tr>
		<td>Method Name</td> <td><em>updateRanking</em></td>
	</tr>
	<tr>
		<td>Method State</td> <td><em>Private</em></td>
	</tr>
	<tr>
		<td>Return Type</td> <td><em>None</em></td>
	</tr>
	<tr>
		<td>Input Arguments</td> <td>Event endGameEvent, User[] team1Users, User[] team2Users</td>
	</tr>
	<tr>
		<td>Output Arguments</td> <td>none</td>
	</tr>
	<tr>
	<td>Error Messages</td> <td>none</td>
	</tr>
	<tr>
		<td>External Accesses</td> <td>Rating</td>
	</tr>
	<tr>
		<td>External Changes</td> <td>TrueSkill Ratings are updated with their new Mu and Sigma values.</td>
	</tr>
	<tr>
		<td>Other Methods Invoked</td> <td>winnersAndLosers, getRating, rate, getMu, setMu, getSigma, setSigma</td>
	</tr>
	<tr>
		<td>Description</td> <td>The helper function winnersAndLosers is called to figure out which Team won</br>
								 and which Team lost. The TrueSkill Ratings of each User are obtained, and new Rating</br>
								 objects with the new Mu and Sigma values are obtained by calling the rate function from the</br>
								 TrueSkill library.</br>
								 </br>
								 The Mu and Sigma values of the Users' Rating objects become those of the new Rating objects.</td>
	</tr>
</table>

</br>

<table border="1">
	<tr>
		<td><strong>Class Name</strong></td> <td><strong>ConfirmGameController</strong></td>
	</tr>
	<tr>
		<td>Method Name</td> <td><em>winnersAndLosers</em></td>
	</tr>
	<tr>
		<td>Method State</td> <td><em>Private</em></td>
	</tr>
	<tr>
		<td>Return Type</td> <td><em>User[][]</em></td>
	</tr>
	<tr>
		<td>Input Arguments</td> <td>Event endGameEvent, User[] team1Users, User[] team2Users</td>
	</tr>
	<tr>
		<td>Output Arguments</td> <td>victoryArray</td>
	</tr>
	<tr>
		<td>Error Messages</td> <td>none</td>
	</tr>
	<tr>
		<td>External Accesses</td> <td>Event, EventType</td>
	</tr>
	<tr>
		<td>External Changes</td> <td>none</td>
	</tr>
	<tr>
		<td>Other Methods Invoked</td> <td>NEED A WAY TO TELL WHO WON</td>
	</tr>
	<tr>
		<td>Description</td> <td>If Team1 won, returns [team1Users,team2Users]</br>
								 otherwise returns [team2Users, team1Users].</td>
	</tr>
</table>