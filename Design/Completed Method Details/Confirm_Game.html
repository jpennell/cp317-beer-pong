
<table border="1">
	<tr>
		<td><strong>Controller Name</strong></td> <td><strong>ConfirmGameController</strong></td>
	</tr>
	<tr>
		<td>Method Name</td> <td><em>ConfirmGameController</em></td>
	</tr>
	<tr>
		<td>Method State</td> <td><em>public</em></td>
	</tr>
	<tr>
		<td>Return</td> <td><em>ConfirmGameController controller</em></td>
	</tr>
	<tr>
		<td>Input Arguments</td> <td>None</td>
	</tr>
	<tr>
	<td>Error Messages</td> <td>If this object fails to connect to the Game, Team, Event, EventType or LifeStats table
							<br>***An error occurred in processing your game confirmation/denial request.*** </td>
	</tr>
	<tr>
		<td>Database Accesses</td> <td>None</td>
	</tr>
	<tr>
		<td>Database Changes</td> <td>May initialize a connection to the Game, Team, Event, EventType, User, LifeStats and Ranking tables</td>
	</tr>
	<tr>
		<td>Other Methods Invoked</td> <td>None</td>
	</tr>
	<tr>
		<td>Description</td> <td>Initializes an instance of class ConfirmGameController.</br>
								 After construction, the object is ready to obtain a Game from its I.D., read its Events from the Events table,</br>
								 use the EventType table to understand what happened, and the Game table to find out the Teams of Users whose entries</br>
								 in the LifeStats and Ranking tables need to be updated.</td>
	</tr>
</table>

</br>

<table border="1">
	<tr>
		<td><strong>Controller Name</strong></td> <td><strong>ConfirmGameController</strong></td>
	</tr>
	<tr>
		<td>Method Name</td> <td><em>confirmOrDenyGame</em></td>
	</tr>
	<tr>
		<td>Method State</td> <td><em>public</em></td>
	</tr>
	<tr>
		<td>Return</td> <td><em>None</em></td>
	</tr>
	<tr>
		<td>Input Arguments</td> <td>int gameID, boolean isUserConfirming</td>
	</tr>
	<tr>
	<td>Error Messages</td> <td>If no Game with the gameID exists:</br>
								***Game does not exist.***</br>
								If the Game has already been confirmed or denied:</br>
								***Game has already been confirmed/denied.***</br>
								If the Game has not actually ended yet:</br>
								***Game has not ended***</td>
	</tr>
	<tr>
		<td>Database Accesses</td> <td>Game, Event, EventType</td>
	</tr>
	<tr>
		<td>Database Changes</td> <td>If successful, the Game's isConfirmedOrDenied flag is set to True (unless the Game is deleted.)</td>
	</tr>
	<tr>
		<td>Other Methods Invoked</td> <td>isConfirmedOrDenied, confirmGame, denyGame, setConfirmedOrDenied</td>
	</tr>
	<tr>
		<td>Description</td> <td>Confirms/denies the Game if it is valid.</br>
								 A valid Game is one that exists, hasn't already been confirmed/denied and has ended.</br></td>
	</tr>
</table>

</br>

<table border="1">
	<tr>
		<td><strong>Controller Name</strong></td> <td><strong>ConfirmGameController</strong></td>
	</tr>
	<tr>
		<td>Method Name</td> <td><em>confirmGame</em></td>
	</tr>
	<tr>
		<td>Method State</td> <td><em>private</em></td>
	</tr>
	<tr>
		<td>Return</td> <td><em>None</em></td>
	</tr>
	<tr>
		<td>Input Arguments</td> <td>Game game</td>
	</tr>
	<tr>
	<td>Error Messages</td> <td>None</td>
	</tr>
	<tr>
		<td>Database Accesses</td> <td>Game, Team, User, Event, LifeStats</td>
	</tr>
	<tr>
		<td>Database Changes</td> <td>None</td>
	</tr>
	<tr>
		<td>Other Methods Invoked</td> <td>getEvents, getTeam1, getTeam2, getUser1, getUser2, getLifeStats, getUser</br>
										   updateStatsWithEvent, updateWinsAndLosses, updateRankings</td>
	</tr>
	<tr>
		<td>Description</td> <td>For each Event in the Game (other than the end game Event), finds its corresponding User and updates their LifeStats.</br>
								 Then, using the end game Event, updates the Users' wins & losses and TrueSkill values.</td>
	</tr>
</table>

</br>

<table border="1">
	<tr>
		<td><strong>Controller Name</strong></td> <td><strong>ConfirmGameController</strong></td>
	</tr>
	<tr>
		<td>Method Name</td> <td><em>denyGame</em></td>
	</tr>
	<tr>
		<td>Method State</td> <td><em>private</em></td>
	</tr>
	<tr>
		<td>Return</td> <td><em>None</em></td>
	</tr>
	<tr>
		<td>Input Arguments</td> <td>Game game</td>
	</tr>
	<tr>
	<td>Error Messages</td> <td>None</td>
	</tr>
	<tr>
		<td>Database Accesses</td> <td>Game, Event</td>
	</tr>
	<tr>
		<td>Database Changes</td> <td>May delete Events from the Event table, Teams from the Teams table and the Game from the Game table</td>
	</tr>
	<tr>
		<td>Other Methods Invoked</td> <td>getEvents</td>
	</tr>
	<tr>
		<td>Description</td> <td>Performs any overhead necessary for denying a Game.</td>
	</tr>
</table>

</br>

<table border="1">
	<tr>
		<td><strong>Controller Name</strong></td> <td><strong>ConfirmGameController</strong></td>
	</tr>
	<tr>
		<td>Method Name</td> <td><em>updateStatsWithEvent</em></td>
	</tr>
	<tr>
		<td>Method State</td> <td><em>private</em></td>
	</tr>
	<tr>
		<td>Return</td> <td><em>None</em></td>
	</tr>
	<tr>
		<td>Input Arguments</td> <td>LifeStats statsToUpdate, Event eventThatOccurred</td>
	</tr>
	<tr>
	<td>Error Messages</td> <td>None</td>
	</tr>
	<tr>
		<td>Database Accesses</td> <td>LifeStats, Event, EventType</td>
	</tr>
	<tr>
		<td>Database Changes</td> <td>The LifeStats object is updated to reflect that the Event occurred.</td>
	</tr>
	<tr>
		<td>Other Methods Invoked</td> <td>getEventType, getEventTypeName, incBounceShots, incTrickShots, incPartyFouls, incCupsSunk, incRedemptions</td>
	</tr>
	<tr>
		<td>Description</td> <td>Obtains eventThatOccurred's EventType and updates statsToUpdate based on that.</br>
								 This method is meant for processing bounce shots, trick shots, party fouls, cups sunk, redemptions and nothing else.</td>
	</tr>
</table>

</br>

<table border="1">
	<tr>
		<td><strong>Controller Name</strong></td> <td><strong>ConfirmGameController</strong></td>
	</tr>
	<tr>
		<td>Method Name</td> <td><em>updateWinsAndLosses</em></td>
	</tr>
	<tr>
		<td>Method State</td> <td><em>private</em></td>
	</tr>
	<tr>
		<td>Return</td> <td><em>None</em></td>
	</tr>
	<tr>
		<td>Input Arguments</td> <td>Team winningTeam, Team losingTeam</td>
	</tr>
	<tr>
	<td>Error Messages</td> <td>None</td>
	</tr>
	<tr>
		<td>Database Accesses</td> <td>LifeStats, Team, User</td>
	</tr>
	<tr>
		<td>Database Changes</td> <td>Wins for the winning Users and losses for the losing Users are updated.</td>
	</tr>
	<tr>
		<td>Other Methods Invoked</td> <td> incWins, incLosses</td>
	</tr>
	<tr>
		<td>Description</td> <td>The winning Users have the wins in their LifeStats incremented by 1.</br>
								 The losing Users have the losses in the LifeStats incremented by 1.</td>
	</tr>
</table>

</br>

<table border="1">
	<tr>
		<td><strong>Controller Name</strong></td> <td><strong>ConfirmGameController</strong></td>
	</tr>
	<tr>
		<td>Method Name</td> <td><em>updateRankings</em></td>
	</tr>
	<tr>
		<td>Method State</td> <td><em>private</em></td>
	</tr>
	<tr>
		<td>Return</td> <td><em>None</em></td>
	</tr>
	<tr>
		<td>Input Arguments</td> <td>Team winningTeam, Team losingTeam</td>
	</tr>
	<tr>
		<td>Error Messages</td> <td>None</td>
	</tr>
	<tr>
		<td>Database Accesses</td> <td>Rating, Team, User</td>
	</tr>
	<tr>
		<td>Database Changes</td> <td>TrueSkill rankings are updated with their new Mu and Sigma values.</td>
	</tr>
	<tr>
		<td>Other Methods Invoked</td> <td>getUser1, getUser2, getRanking, rate, getMu, setMu, getSigma, setSigma</td>
	</tr>
	<tr>
		<td>Description</td> <td>The TrueSkill Rankings of each User are obtained, and new Ranking objects with the new Mu and Sigma values</br>
								 are obtained by calling the rate function from the TrueSkill library.</br>
								 The Mu and Sigma values of the Users' Ranking objects become those of the new Ranking objects.</td>
	</tr>
</table>