{% extends "base.html" %}
{% load staticfiles %}

{% block pagetitle %} | Profile{% endblock %}

{% block head %}
<link href='{% static 'css/profile-styles.css' %}' rel='stylesheet' type='text/css'>
{% endblock %}

{% block pagecontent %}
<div id="page-content">
    <table id="profile">
        <tr>
            <td>
            <h2 class="player-name"> 
            	{{ user.getFirstName }} {{ user.getLastName }}
			</h2>
			
                <table width="250px">
                    <tr>
                        <td align="left">
                            <h5>{{ user.getUsername }}</h5>
                        </td>

                        <td align="right">
                        	<a href="edit">Edit profile</a>
                        </td>
                    </tr>
                </table>
                
            </td>
            <td colspan="2"  valign="bottom">
            	<form method='POST' action="/user/profile/">
            	
            		{% csrf_token %}
            	
	            	<table width="40%" align="right">
	                    <tr>
	                        <td align="right" valign="middle">
	                            {{ form.search }}
	                        </td>
	                        <td width="12%" align="right" valign="top">
	                            <button name="searchName" class="btn" type="submit">
						            Search
						        </button>
	                        </td>
	                    </tr>
	                    
	                    <tr>
	                        <td align="right">
	                            {% if form.search.errors %}
	                            	{{ form.search.errors }}
	                            {% endif %}
	                        </td>
	                        <td width="12%" height="22px">
	                        </td>
	                    </tr>
	                    
	                    <tr>
	                        <td align="right">
	                        </td>
	                        <td width="12%" height="22px">
	                        </td>
	                    </tr>
	                </table>
	            </form>
            
                <table id="personal-stats">
                    <tr>
                        <td>
                            Height
                        </td>
                        <td>
                            {{ user.getHeight }}cm
                        </td>
                        <td>
                            Institution
                        </td>
                        <td>
                            {{ user.getInstitution }}
                        </td>
                        <td>
                            Year of Graduation
                        </td>
                        <td>
                            {{ user.getGraduationYear }}
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr id="statistics">
            <td>
            	{% if user.getPhoto %}
            		<img class="picture" width="250" height="250" src="{{ user.getPhoto.url }}"/>
            	{% else %}
            		<div id="default_picture" class="picture"></div>
            	{% endif %}
            </td>

            <td id="player-info">
                <h4>Player Statistics</h4>
                <table id="player-stats">
                    <tr>
                        <td>
                            Pong Tracker Rank
                        </td>
                        <td height="30px">
                            {{ rank }}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Games Won
                        </td>
                        <td>
                            {{ user.getLifeStats.getWins }}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Games Lost
                        </td>
                        <td>
                            {{ user.getLifeStats.getLoses }}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Bounce Shots
                        </td>
                        <td>
                            {{ user.getLifeStats.getBounceShots }}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Trick Shots
                        </td>
                        <td>
                            {{ user.getLifeStats.getTrickShots }}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Party Fouls
                        </td>
                        <td>
                        	
                            {{ user.getLifeStats.getPartyFouls }}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Redemptions
                        </td>
                        <td>
                            {{ user.getLifeStats.getRedemptions }}
                        </td>
                    </tr>
                    <tr>
                        <td>
                            Total Cups Sunk
                        </td>
                        <td>
                            {{ totalSunk }}
                        </td>
                    </tr>
                </table>
            </td>

            <td id="cups-sunk-stats">
                <center><h4>Cups Sunk</h4></center>
                <center>
                <div id="cups">
                    <span class="cup" id="cup1">{{ user.getLifeStats.getCup1Sunk }}</span>
                    <br/>
                    <span class="cup" id="cup2">{{ user.getLifeStats.getCup2Sunk }}</span>
                    <span class="cup" id="cup3">{{ user.getLifeStats.getCup3Sunk }}</span>
                    <br/>
                    <span class="cup" id="cup4">{{ user.getLifeStats.getCup4Sunk }}</span>
                    <span class="cup" id="cup5">{{ user.getLifeStats.getCup5Sunk }}</span>
                    <span class="cup" id="cup6">{{ user.getLifeStats.getCup6Sunk }}</span>
                </div>
                </center>
            </td>
        </tr>
    </table>
</div>
{% endblock %}
